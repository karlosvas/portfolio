---
import Language from "../components/Language.astro";
import Hamburger from "../components/Hamburger.astro";
import Theme from "../components/Theme.astro";
import ContactHeader from "../components/ContactHeader.astro";
import type { i18nTranslations } from "@/../types/types";

const data: i18nTranslations = Astro.props.data;
---

<header class="flex h-20 justify-end align-middle items-center bg-black p-10 text-white fixed top-0 w-full z-50">
  <Hamburger data={data} />
  <!-- Contacto -->
  <ContactHeader />
  <!-- Tema -->
  <Theme />
  <!-- Idioma -->
  <Language />
</header>

<style>
  /* Hacemos que sea mas grande cunao no se mueve y se contraiga cuando se mueva */
  header {
    height: 10dvh;
    transition: height 0.3s;
  }
  /* Hacemos que se mueva cuando se haga scroll */
  header.scrolled {
    height: 4dvh;
  }
</style>
<script>
  // Animacion de la cabecera al hacer scroll
  const header: HTMLHeadElement | null = document.querySelector("header");
  const hamburgerModal = document.getElementById("hamburgerModal") as HTMLDialogElement;

  document.addEventListener("scroll", () => {
    if (window.scrollY > 0) {
      header?.classList.add("scrolled");
      hamburgerModal?.classList.add("scrolled");
    } else {
      header?.classList.remove("scrolled");
      hamburgerModal?.classList.remove("scrolled");
    }
  });
</script>
